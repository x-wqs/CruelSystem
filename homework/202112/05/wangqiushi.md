DDIA P41-51
=============

IMS （IBM信息管理系统）采用层次模型，将所有数据表示为嵌套在记录中的记录。能够很好支持一对多关系，但支持多对多关系有困难，不支持联结。开发人员必须决定是复制数据或者是手动解析记录之间的引用。

为了解决层次模型的局限性，提出多种解决方案，最著名的是关系模型relation model（演变为SQL）和网络模型network model（逐渐被淡忘）。

网络模型即CODASYL模型，为层次模型的推广。层次模型树结构里，每个记录只有一个节点，但是网络模型里可以有多个父节点。支持多对一和多对多的关系进行建模。

网络模型中，访问记录的唯一方法是选择一条始于根记录的路径，沿着相关链接依次访问。链接链条也称为访问路径。访问路径像遍历链表。

关系模型中，定义所有数据格式：表只是行的集合。可读取表中任意一行或所有行，支持任意条件查询。

比较关系数据库和文档数据库。文档数据模型是模式灵活性。关系模型强在联结操作、多对一和多对多关系更简洁的表达上，与文档模型抗衡。

主要取决数据项之间的关系类型，对于高度关联数据，文档模型不太适合，关系模型可以胜任。

关系数据库和文档数据库变得越来越接近，数据模型可以相互补充。

如果数据库能很好处理文档类数据，还能执行关系查询，那么应用程序可以使用最符合其需求的功能的组合。

SQL是一种声明式查询语言，而IMS和CODASYL是命令式。声明式查询语言只需指定所需数据模式，结果需要满足的条件，以及如何转换数据。不需致命如何实现目标。比命令式API更简洁和容易使用。声明式语言通常适合并行执行。命令式指定特定的执行顺序，很难在多核和多台机器上并行化。声明式语言对于并行执行更加友好。

MapReduce是一种编程模型，用于在许多机器上批量处理海量数据。一些NoSQL存储系统支持有限的MapReduce方式在大量文档上执行只读查询。
